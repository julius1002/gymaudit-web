<ng-container *ngIf="setsPage$ | async as setsPage; else noSets">
  <ng-container *ngIf="setsPage.content.length; else noSets">
    <ng-container *ngIf = "!editing;else currentSets">
    <div class="heading">
      <span class="mat-title">Recorded Sets</span>
    </div>
  </ng-container>
  <ng-template #currentSets>
    <div class="heading">
      <span class="mat-title">Today's Sets(ggf. auch in die navbar) {{todaysDate | date}}</span>
    </div>
  </ng-template>
    <!-- <ul>
      <li *ngFor="let set of sets.content; let i = index">
        {{ i + 1 }}. Satz {{ set.reps }} Wiederholungen x {{ set.number
        }}<ng-container *ngIf="set.measureUnit"
          > {{ measureUnitEnum[set.measureUnit] }}
        </ng-container>
      </li>
    </ul> -->
    <mat-table [dataSource]="setsPage.content" class="mat-elevation-z8">
      <ng-container matColumnDef="reps">
        <mat-header-cell *matHeaderCellDef>Repetitions </mat-header-cell>
        <mat-cell *matCellDef="let set"> {{ set.reps }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="number">
        <mat-header-cell *matHeaderCellDef>
         Intensity
        </mat-header-cell>
        <mat-cell *matCellDef="let set"> {{ set.number }} </mat-cell>
      </ng-container>


      <ng-container matColumnDef="measureUnit">
        <mat-header-cell *matHeaderCellDef> Measure </mat-header-cell>
        <mat-cell *matCellDef="let set">
          {{ measureUnitEnum[set.measureUnit] }}
        </mat-cell>
      </ng-container>
      <ng-container *ngIf = "!editing; else pastTime">

      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
        <mat-cell *matCellDef="let set">
          {{ set.date | date: "EEEE d. MMMM y HH:mm" }}
        </mat-cell>
      </ng-container>
    </ng-container>
    <ng-template #pastTime>
      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef> Time </mat-header-cell>
        <mat-cell *matCellDef="let set">
          {{ set.date | date: "HH:mm" }} Uhr
        </mat-cell>
      </ng-container>
    </ng-template>
      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef> Edit </mat-header-cell>
        <mat-cell *matCellDef="let set">
          <button mat-button (click) = "editSet(set)">
            <mat-icon>edit</mat-icon>
          </button>
        </mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
    <mat-paginator
      [pageSize]="pageSize"
      [length]="setsPage.totalElements"
      (page)="turn($event)"
      [pageIndex]="index"
    >
    </mat-paginator>
  </ng-container>
</ng-container>
<ng-template #noSets>
  <div class="heading">
    No recorded sets for  <br /> this exercise yet
  </div>
</ng-template>
<ng-container *ngIf = "editing">
  <button  mat-raised-button (click)="addSet()">
    <span >Track Set <mat-icon>add</mat-icon></span>
  </button>
</ng-container>